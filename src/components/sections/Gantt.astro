---
import Gantt from 'frappe-gantt';
import tasks from '../../data/gantt-tasks.json';
import 'frappe-gantt/dist/frappe-gantt.css';
---

<div class="gantt-container">
  <h2 class="text-2xl font-bold text-center mb-8">Diagrama de Gantt del Proyecto</h2>
  <div id="gantt"></div>
</div>

<style>
  .gantt-container {
    margin: 2rem 0;
  }
</style>

<script define:vars={{ tasks }}>
  document.addEventListener('DOMContentLoaded', () => {
    const gantt = new Gantt("#gantt", tasks, {
      header_height: 50,
      column_width: 30,
      step: 24,
      view_modes: ['Quarter Day', 'Half Day', 'Day', 'Week', 'Month'],
      bar_height: 20,
      bar_corner_radius: 3,
      arrow_curve: 5,
      padding: 18,
      view_mode: 'Week',
      date_format: 'YYYY-MM-DD',
      language: 'es', // Defaults to 'en'
      custom_popup_html: null
    });
  });
</script>