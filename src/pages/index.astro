---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/sections/Hero.astro';
import About from '../components/sections/About.astro';
import Experience from '../components/sections/Experience.astro';
import Skills from '../components/sections/Skills.astro';
import Projects from '../components/sections/Projects.astro';
import GitHubProjects from '../components/sections/GitHubProjects.astro';
import Gantt from '../components/sections/Gantt.astro';

// Metadatos y datos de contacto centralizados
const SITE = {
    title: "Edwin Flores Sanchez | Consultor SAP S/4HANA",
    description: "Portafolio profesional de Edwin Flores Sanchez, un Consultor SAP S/4HANA e Ingeniero de Sistemas especializado en implementación, migración y soporte de soluciones SAP."
};

const contactInfo = {
    email: "ejuniorfloress@gmail.com",
    linkedin: "https://www.linkedin.com/in/edwinflores19/",
    github: "https://github.com/EdwinFlores19"
};
---
<Layout title={SITE.title} description={SITE.description}>
  <Header />
  <main class="px-6 md:px-10 lg:px-20 max-w-7xl mx-auto">
    <Hero contactInfo={contactInfo} />
    <About />
    <Experience />
    <Skills />
    <Projects />
    <GitHubProjects />
    <Gantt />
  </main>
  <footer id="contact" class="text-center py-16 mt-24 border-t border-card/50">
    <h3 class="text-3xl font-bold mb-4">Contacto</h3>
    <p class="max-w-xl mx-auto text-text-secondary mb-8">
        ¿Tienes una pregunta, una oportunidad o simplemente quieres saludar? Envíame un mensaje a través del formulario.
    </p>
    
    <form id="contact-form" class="max-w-xl mx-auto text-left">
      <div class="mb-4">
        <label for="user_name" class="block text-text-secondary mb-2">Nombre</label>
        <input type="text" id="user_name" name="user_name" required class="w-full bg-background border border-card/50 rounded-lg py-2 px-4 focus:outline-none focus:ring-2 focus:ring-primary">
      </div>
      <div class="mb-4">
        <label for="user_email" class="block text-text-secondary mb-2">Correo Electrónico</label>
        <input type="email" id="user_email" name="user_email" required class="w-full bg-background border border-card/50 rounded-lg py-2 px-4 focus:outline-none focus:ring-2 focus:ring-primary">
      </div>
      <div class="mb-6">
        <label for="message" class="block text-text-secondary mb-2">Mensaje</label>
        <textarea id="message" name="message" rows="4" required class="w-full bg-background border border-card/50 rounded-lg py-2 px-4 focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
      </div>
      <div class="text-center">
        <button type="submit" id="submit-btn" class="inline-block bg-primary text-white font-semibold py-3 px-8 rounded-lg hover:bg-primary/80 transition-transform duration-300 hover:scale-105 text-lg">
          Enviar Mensaje
        </button>
        <p id="status-sending" class="mt-4 text-text-secondary" style="display: none;">Enviando...</p>
        <p id="status-success" class="mt-4 text-green-400" style="display: none;">¡Mensaje enviado con éxito! Gracias por contactarme.</p>
        <p id="status-error" class="mt-4 text-red-400" style="display: none;">Hubo un error al enviar el mensaje. Por favor, revisa tus datos o inténtalo de nuevo más tarde.</p>
      </div>
    </form>

    <p class="mt-16 text-sm text-text-secondary">
        © {new Date().getFullYear()} Edwin Flores Sanchez. Diseñado con esmero y construido con Astro & Tailwind CSS.
    </p>
  </footer>

  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script type="module" src="../scripts/contact-form.js"></script>
</Layout>